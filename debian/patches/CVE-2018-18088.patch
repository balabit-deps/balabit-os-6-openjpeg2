Description: jp2: convert: fix null pointer dereference
 Tile components in a JP2 image might have null data pointer by defining a
 zero component size (for example using large horizontal or vertical
 sampling periods). This null data pointer leads to null image component
 data pointer, causing crash when dereferenced without != null check in
 imagetopnm.
 .
 Add != null check.
Author: Hugo Lefeuvre <hle@debian.org>
Origin: https://github.com/uclouvain/openjpeg/commit/cab352e249ed3372dd9355c85e837613fff98fa2
Bug-Debian: https://bugs.debian.org/910763
--- a/src/bin/jp2/convert.c
+++ b/src/bin/jp2/convert.c
@@ -1982,6 +1982,11 @@
                 opj_version(), wr, hr, max);
 
         red = image->comps[compno].data;
+        if (!red) {
+            fclose(fdest);
+            continue;
+        }
+
         adjustR =
                 (image->comps[compno].sgnd ? 1 << (image->comps[compno].prec - 1) : 0);
 
